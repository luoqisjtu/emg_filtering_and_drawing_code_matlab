
data1=load('butterbayesian11.txt');
fs=100;
ave=data1(732:1170,1);
but=data1(732:1170,2);
bay=data1(732:1170,3);
l=length(ave);
figure(1);
subplot(311);plot(0:1/fs:(l-1)/fs,(ave-min(ave))/(max(ave)-min(ave)),'k');xlim([0 4.38]);title('10阶均值滤波');ylim([0 1.05]);set(gca,'YTickLabel',{'0','0.5','1.0'},'LineWidth',1.5);xlabel('时间(sec)');
set(gca,'XTickLabel',{'0','0.5','1.0','1.5','2.0','2.5','3.0','3.5','4.0'},'LineWidth',1.5);
subplot(312);plot(0:1/fs:(l-1)/fs,(but-min(but))/(max(but)-min(but)),'k');xlim([0 4.38]);title('最优巴特沃斯滤波');ylim([0 1.05]);set(gca,'YTickLabel',{'0','0.5','1.0'},'LineWidth',1.5);xlabel('时间(sec)');
set(gca,'XTickLabel',{'0','0.5','1.0','1.5','2.0','2.5','3.0','3.5','4.0'},'LineWidth',1.5);
subplot(313);plot(0:1/fs:(l-1)/fs,(bay-min(bay))/(max(bay)-min(bay)),'k');xlim([0 4.38]);title('非线性贝叶斯滤波');ylim([0 1.05]);set(gca,'YTickLabel',{'0','0.5','1.0'},'LineWidth',1.5);xlabel('时间(sec)');
set(gca,'XTickLabel',{'0','0.5','1.0','1.5','2.0','2.5','3.0','3.5','4.0'},'LineWidth',1.5);
% figure(3);
% y=filteremg(1:670);
% x=(0:0.01:6.69);
% x=x';
% [param1]=sigm_fit(x,y);set(gca,'YTick',[]);xlabel('Time(sec)');legend('10阶均值滤波','sigmoid','Location','NorthWest');title('sigmid函数与10阶均值滤波拟合');
% figure(4);
% y1=data1(1:670,1);
% x1=(0:0.01:6.69);
% x1=x1';
% [param2]=sigm_fit(x1,y1);set(gca,'YTick',[]);xlabel('Time(sec)');legend('线性巴特沃斯滤波','sigmoid','Location','NorthWest');title('sigmid函数与线性巴特沃斯滤波拟合');
% figure(5);
% y2=data1(1:670,2);
% x2=(0:0.01:6.69);
% x2=x2';
% [param3]=sigm_fit(x2,y2);set(gca,'YTick',[]);xlabel('Time(sec)');legend('非线性贝叶斯滤波','sigmoid','Location','NorthWest');title('sigmid函数与非线性贝叶斯滤波拟合');

ave=ave(150:300);
but=but(150:300);
bay=bay(150:300);
jun1=mean(ave);
jun2=mean(but);
jun3=mean(bay);
ave=ave/jun1;
but=but/jun2;
bay=bay/jun3;
jun1=mean(ave);
jun2=mean(but);
jun3=mean(bay);
v1=var(ave);
v2=var(but);
v3=var(bay);
